<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="css/bootstrap.min.css">
<link rel="stylesheet" href="css/custom.css">
<title>Qin's Blog</title>
<div class="container">
  <div class="row">
      <div class="col-md-9"><div id="text"></div></div>

      <div class="col-md-3">
    	  <div class="hidden-print hidden-xs hidden-sm" style="position:fixed;top:0px;background:#eee">
    	     <ul id="nav" class="nav nav-pills nav-stacked" role="tablist" >
		          <li role="presentation"><a href="index.html">Home</a></li>
	         </ul>
        </div>
      </div>
  </div>
</div>
<!-- code -->
<script  src="js/markdown.js"></script>
<script  src="js/zepto.min.js"></script>
<script>
var edit_address="https://github.com/HubQin/hubqin.github.io/edit/master/blog/posts/";//自定义编辑地址
var post = window.location.search.substring(1);
if(post=='')post='index';
$('#text').html('loading...');
$.get('posts/'+post+'.md',function(data){
//console.log(markdown.toHTML(data));
	$('#text').html(markdown.toHTML(data));
	var list=$('#nav');
	$(list).append('<li role="presentation"><a href="' + edit_address+post+ '.md">Edit</a></li>');
	$("h2,h3").each(function() {
        $(this).prepend('<a name="' + $(this).text() + '"></a>');//给h2,h3加锚点
        if($(this)[0].tagName == "H2"){
          $(list).append('<li role="presentation" style="font-size:18px;"><a href="#' + $(this).text() + '">' +  $(this).text() + '</a></li>');
        }else{
          $(list).append('<li class="intent" role="presentation" style="margin-left:10px;"><a href="#' + $(this).text() + '">' +  $(this).text() + '</a></li>');
        }
        
    });
});
</script>
